---
title: Deep Dive into a Project
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Analyze detailed metrics for a specific project. New to OSO? Check out our [Getting Started guide](../get-started/index.md) to set up your BigQuery or API access.

:::tip
All **projects** are defined as YAML files in [OSS Directory](https://github.com/opensource-observer/oss-directory). View our current projects [here](https://github.com/opensource-observer/oss-directory/tree/main/data/projects).
:::

## Getting Started

Before running any analysis, you'll need to set up your environment:

<Tabs>
<TabItem value="python" label="Python">

Start your Python notebook with the following:

```python
import os
import pandas as pd
from pyoso import Client

OSO_API_KEY = os.environ['OSO_API_KEY']
client = Client(api_key=OSO_API_KEY)
```

For more details on setting up Python notebooks, see our guide on [writing Python notebooks](../guides/notebooks/index.mdx).

</TabItem>
<TabItem value="graphql" label="GraphQL">

The following queries should work if you copy-paste them into our [GraphQL sandbox](https://www.opensource.observer/graphql). For more information on how to use the GraphQL API, check out our [GraphQL guide](../integrate/api.md).

</TabItem>
</Tabs>

## Find a Project

Search for projects by name:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  project_id,
  project_name,
  display_name
FROM projects_v1
WHERE lower(display_name) LIKE lower('%merkle%')
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query FindProject {
  oso_projectsV1(where: { display_name: { _ilike: "%merkle%" } }) {
    projectId
    projectName
    displayName
  }
}
```

</TabItem>
</Tabs>

## Find a Project by Artifact

Find projects associated with specific artifacts:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  project_id,
  project_name,
  artifact_namespace as github_owner,
  artifact_name as github_repo
FROM artifacts_by_project_v1
WHERE
  artifact_source = 'GITHUB'
  AND artifact_namespace LIKE '%uniswap%'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query FindProjectByArtifact {
  oso_artifactsByProjectV1(
    where: {
      artifactNamespace: { _ilike: "%uniswap%" }
      artifactSource: { _eq: "GITHUB" }
    }
  ) {
    projectId
    projectName
    artifactNamespace
    artifactName
  }
}
```

</TabItem>
</Tabs>

## Code Metrics

Get code metrics for a specific project:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  project_name,
  display_name,
  star_count,
  fork_count,
  commit_count_6_months,
  contributor_count_6_months
FROM code_metrics_by_project_v1
WHERE project_name = 'opensource-observer'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query CodeMetricsForProject {
  oso_codeMetricsByProjectV1(
    where: { projectName: { _eq: "opensource-observer" } }
  ) {
    projectName
    displayName
    starCount
    forkCount
    commitCount6Months
    contributorCount6Months
  }
}
```

</TabItem>
</Tabs>

## Timeseries Metrics

Get historical metrics for a project:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  tm.sample_date,
  m.metric_name,
  tm.amount
FROM timeseries_metrics_by_project_v0 AS tm
JOIN metrics_v0 AS m
  ON tm.metric_id = m.metric_id
JOIN projects_v1 AS p
  ON tm.project_id = p.project_id
WHERE p.project_name = 'wevm'
ORDER BY sample_date DESC
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query TimeseriesMetrics {
  timeseriesMetrics: oso_timeseriesMetricsByProjectV0(
    where: {
      projectId: { _eq: "Erx9J64anc8oSeN-wDKm0sojJf8ONrFVYbQ7GFnqSyc=" }
    }
  ) {
    sampleDate
    metricId
    amount
  }
  metrics: oso_metricsV0 {
    metricId
    metricName
  }
}
```

Note: You'll need to join these results client-side by matching `metricId` values from both queries.

</TabItem>
</Tabs>

## Code Contributors

Get all contributors to a project's GitHub repositories:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  te.time,
  a.artifact_name as code_contributor,
  abp.artifact_name as github_repo,
  te.event_type,
  te.amount
FROM timeseries_events_by_artifact_v0 AS te
JOIN artifacts_by_project_v1 AS abp
  ON te.to_artifact_id = abp.artifact_id
JOIN artifacts_v1 a
  ON te.from_artifact_id = a.artifact_id
WHERE
  abp.project_name = 'ipfs'
  AND te.event_type = 'COMMIT_CODE'
ORDER BY te.time DESC
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

To get this data in GraphQL, you'll need to run multiple queries and join them client-side:

1. First, get the project's artifacts:
```graphql
query GetProjectArtifacts {
  oso_artifactsByProjectV1(
    where: { projectName: { _eq: "ipfs" } }
  ) {
    artifactId
    artifactName
  }
}
```

2. Then, for each artifact, get the events:
```graphql
query GetArtifactEvents($artifactId: String!) {
  oso_timeseriesEventsByArtifactV0(
    where: {
      toArtifactId: { _eq: $artifactId }
      eventType: { _eq: "COMMIT_CODE" }
    }
  ) {
    time
    fromArtifactId
    eventType
    amount
  }
}
```

3. Finally, get the contributor names:
```graphql
query GetContributors($artifactIds: [String!]) {
  oso_artifactsV1(
    where: { artifactId: { _in: $artifactIds } }
  ) {
    artifactId
    artifactName
  }
}
```

You'll need to combine these results client-side to get the complete picture.

</TabItem>
</Tabs>

## Adding Projects

Projects are defined as YAML files in our [OSS Directory repo](https://github.com/opensource-observer/oss-directory). You can add or update your own projects or project artifacts by submitting a pull request.

For more information on how projects work, see our guide [here](../guides/oss-directory/project.md).
