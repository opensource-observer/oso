---
title: View a Collection of Projects
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Get a high level view of key metrics for a collection of projects. New to OSO? Check out our [Getting Started guide](../get-started/index.md) to set up your BigQuery or API access.

:::tip
All **collections** are defined as YAML files in [OSS Directory](https://github.com/opensource-observer/oss-directory). View our current collections [here](https://github.com/opensource-observer/oss-directory/tree/main/data/collections).
:::

## Getting Started

Before running any analysis, you'll need to set up your environment:

<Tabs>
<TabItem value="python" label="Python">

Start your Python notebook with the following:

```python
import os
import pandas as pd
from pyoso import Client

OSO_API_KEY = os.environ['OSO_API_KEY']
client = Client(api_key=OSO_API_KEY)
```

For more details on setting up Python notebooks, see our guide on [writing Python notebooks](../guides/notebooks/index.mdx).

</TabItem>
<TabItem value="graphql" label="GraphQL">

The following queries should work if you copy-paste them into our [GraphQL sandbox](https://www.opensource.observer/graphql). For more information on how to use the GraphQL API, check out our [GraphQL guide](../integrate/api.md).

</TabItem>
</Tabs>

## Query Collections

### All Collections

Get the names of all collections on OSO:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  collection_name,
  display_name
FROM collections_v1
ORDER BY collection_name
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query Collections {
  oso_collectionsV1 {
    collectionName
    displayName
  }
}
```

</TabItem>
</Tabs>

### Projects in a Collection

Get the names of all projects in a collection:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT
  project_id,
  project_name
FROM projects_by_collection_v1
WHERE collection_name = 'gg-01'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query ProjectsInCollection {
  oso_projectsByCollectionV1(where: { collectionName: { _eq: "gg-01" } }) {
    projectId
    projectName
  }
}
```

</TabItem>
</Tabs>

## Collection-level Metrics

### Code Metrics

Get code metrics for all projects in a collection:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT cm.*
FROM code_metrics_by_project_v1 AS cm
JOIN projects_by_collection_v1 AS pbc
  ON cm.project_id = pbc.project_id
WHERE pbc.collection_name = 'ethereum-crypto-ecosystems'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query CodeMetricsQuery {
  metrics: oso_codeMetricsByProjectV1 {
    projectId
    starCount
    forkCount
    commitCount6Months
    contributorCount6Months
  }
  projects: oso_projectsByCollectionV1(
    where: { collectionName: { _eq: "ethereum-crypto-ecosystems" } }
  ) {
    projectId
  }
}
```

</TabItem>
</Tabs>

### Onchain Metrics

Get onchain metrics for all projects in a collection:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT om.*
FROM onchain_metrics_by_project_v1 AS om
JOIN projects_by_collection_v1 AS pbc
  ON om.project_id = pbc.project_id
WHERE pbc.collection_name = 'optimism'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query OnchainMetricsQuery {
  metrics: oso_onchainMetricsByProjectV1 {
    projectId
    transactionCount6Months
    gasFeesSum6Months
    newAddressCount90Days
  }
  projects: oso_projectsByCollectionV1(
    where: { collectionName: { _eq: "optimism" } }
  ) {
    projectId
  }
}
```

</TabItem>
</Tabs>

### Funding Metrics

Get funding metrics for all projects in a collection:

<Tabs>
<TabItem value="python" label="Python">

```python
query = """
SELECT fm.*
FROM funding_metrics_by_project_v1 AS fm
JOIN projects_by_collection_v1 AS pbc
  ON fm.project_id = pbc.project_id
WHERE pbc.collection_name = 'op-rpgf3'
"""
df = client.to_pandas(query)
```

</TabItem>
<TabItem value="graphql" label="GraphQL">

```graphql
query FundingMetricsQuery {
  metrics: oso_fundingMetricsByProjectV1 {
    projectId
    totalFundingReceivedUsd6Months
  }
  projects: oso_projectsByCollectionV1(
    where: { collectionName: { _eq: "op-rpgf3" } }
  ) {
    projectId
  }
}
```

</TabItem>
</Tabs>

## Adding Collections and Projects

Projects and collections are defined as YAML files in our [OSS Directory repo](https://github.com/opensource-observer/oss-directory). You can add or update your own collections and projects by submitting a pull request.

For more information on how collections work, see our guide [here](../guides/oss-directory/collection.md).
