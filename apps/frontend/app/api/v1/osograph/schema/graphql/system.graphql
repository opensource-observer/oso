"""
Special type for system related reads that are only allowed by authenticated
service accounts that have system privileges.
"""

type SystemResolvedTableReference {
  reference: String!
  fqn: String!
}

type System {
  """
  Resolve tables by their reference names to the actual table fqn in the data
  warehouse. This is used by the query rewriter to batch resolve table
  references as well as other internal operations.
  """
  resolveTables(
    references: [String!]!
    metadata: JSON
  ): [SystemResolvedTableReference!]!

  dataModelRunQueue(first: Int = 50, after: String): RunQueueItemConnection!

  dataIngestionRunQueue(first: Int = 50, after: String): RunQueueItemConnection!
}

extend type Query {
  """
  System only. Access system level queries.
  """
  system: System!
}
